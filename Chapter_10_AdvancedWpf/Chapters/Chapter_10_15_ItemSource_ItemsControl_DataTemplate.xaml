<Window x:Class="Chapter_10_AdvancedWpf.Chapters.Chapter_10_15_ItemSource_ItemsControl_DataTemplate"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		Title="Chapter_10_15_ItemSource_ItemsControl_DataTemplate"
		Height="400"
		Width="600"
		WindowStartupLocation="CenterScreen">

	<StackPanel>

		<Border BorderThickness="3"
				BorderBrush="Aqua">
			
			<!--taki zapis Binding oznacza, że jest to bezpośrednie odwołanie do obiektu przekazanego do DataContext-->
			<ItemsControl ItemsSource="{Binding}">

				<!--tutaj ustawia się główny kontener elementów, np StackPanel, WrapPanel albo jak tutaj UniformGrid-->
				<ItemsControl.ItemsPanel>
					<ItemsPanelTemplate>
						<UniformGrid />
					</ItemsPanelTemplate>
				</ItemsControl.ItemsPanel>

				<!--szablon dla każdego elementu-->
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<StackPanel>
							<Image  x:Name="image"
									Height="50" />
							<TextBlock x:Name="info"
									   Text="{Binding Path=NameOfImage}"
									   HorizontalAlignment="Center" />
						</StackPanel>

						<DataTemplate.Triggers>
							<DataTrigger Binding="{Binding Path=IsFound}"
										 Value="False">
								<Setter Property="Source"
										Value="..\Images\not_available.png"
										TargetName="image" />
								<Setter Property="Text"
										Value="Nie znaleziono obrazka"
										TargetName="info" />
							</DataTrigger>
							<DataTrigger Binding="{Binding Path=IsFound}"
										 Value="True">
								<Setter Property="Source"
										Value="{Binding Path=PathToImage}"
										TargetName="image" />
							</DataTrigger>
						</DataTemplate.Triggers>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</Border>
	</StackPanel>
</Window>